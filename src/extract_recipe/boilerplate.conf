# Boilerplate patterns for extract-recipe.
#
# Sections, separated by a [section] header:
#
#   [strip]  — regexes applied to prompt text with re.sub(pattern, "", text).
#              Include leading \n* to consume blank lines left behind.
#
#   [skip]   — regexes matched against the raw .display field.
#              If a prompt matches, it is omitted entirely from the recipe.
#
#   [plan]   — regexes matched against the raw .display field.
#              If a prompt matches, it is collapsed to a title summary.
#
# Processing order:  [skip] → [strip] → [plan]
#   1. Entries matching [skip] are removed entirely
#   2. [strip] patterns are applied to the remaining entries' text
#   3. [plan] patterns are checked to collapse plan prompts to a title
#
# Blank lines and lines starting with # are ignored.
# To add support for another tool (Codex, Antigravity, etc.), append
# patterns below and send a PR.

# =====================================================================
# Claude Code (developed against 2.1.45)
# =====================================================================

[strip]

# Plan-mode transcript reference appended to .display in history.jsonl.
# Matches any line containing a .claude/projects/.../*.jsonl path.
\n*[^\n]*\.claude/projects/[^\n]*\.jsonl

[skip]

# Housekeeping slash commands — no recipe value.
^/config\s*$
^/login\s*$
^/status\s*$
^/statusline\b
^/release-notes\s*$
^/rate-limit-options\s*$
^/upgrade\s*$
^/rewind\s*$

[plan]

# Plan-mode prompts: collapsed to a title summary by default.
^Implement the following plan:
